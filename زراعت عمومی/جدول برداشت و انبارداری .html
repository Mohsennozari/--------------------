<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุจุงุฒ ูุตู ฺฉุฑุฏู: ุจุฑุฏุงุดุช ู ุงูุจุงุฑุฏุงุฑ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <style>
        body {
            background: url('https://images.unsplash.com/photo-1500595046743-ee5a3a111d86?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80') no-repeat center center fixed;
            background-size: cover;
            font-family: 'Vazirmatn', sans-serif;
        }
        .matching-card {
            transition: all 0.3s ease;
            cursor: pointer;
        }
        .matching-card:hover {
            transform: scale(1.05);
            box-shadow: 0 0 15px rgba(0, 255, 0, 0.5);
        }
        .connected {
            background-color: #d4edda !important;
        }
        .fireworks {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1000;
            background: rgba(0, 0, 0, 0.5);
        }
        .toast {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 2000;
            animation: slideIn 0.5s ease-out, slideOut 0.5s ease-in 2s forwards;
        }
        @keyframes slideIn {
            from { transform: translateX(100%); }
            to { transform: translateX(0); }
        }
        @keyframes slideOut {
            from { transform: translateX(0); }
            to { transform: translateX(100%); }
        }
        @font-face {
            font-family: 'Vazirmatn';
            src: url('https://cdn.fontcdn.ir/Fonts/Vazirmatn/Vazirmatn-Regular.woff2') format('woff2');
        }
    </style>
</head>
<body class="min-h-screen flex items-center justify-center p-4">
    <div class="bg-white bg-opacity-90 rounded-xl shadow-2xl p-6 max-w-5xl w-full border-4 border-yellow-500">
        <h1 class="text-3xl font-bold text-center text-green-700 mb-6">๐พ ุจุงุฒ ูุตู ฺฉุฑุฏู: ุจุฑุฏุงุดุช ู ุงูุจุงุฑุฏุงุฑ ๐พ</h1>
        <div id="progress" class="text-center mb-4 text-lg text-gray-700"></div>
        <div id="matching-game" class="grid grid-cols-2 gap-6 relative">
            <div id="column-a" class="space-y-3"></div>
            <div id="column-b" class="space-y-3"></div>
        </div>
        <div class="mt-4 flex justify-center space-x-4">
            <button id="next-table" class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600">ุฌุฏูู ุจุนุฏ</button>
            <button id="reset-table" class="bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600">ุฑุณุช ุฌุฏูู</button>
        </div>
        <canvas id="fireworks" class="fireworks hidden"></canvas>
        <svg id="lines" class="absolute top-0 left-0 w-full h-full pointer-events-none"></svg>
        <div id="toast-container"></div>
    </div>

    <script>
        const tables = [
            {
                type: 'ุชุนุฑู',
                title: 'ุชุนุงุฑู ููู',
                data: [
                    { a: 'ุจุฑุฏุงุดุช ูุญุตูู', b: 'ูุฑุญูู ุฌูุนโุขูุฑ ูุญุตูู ูพุณ ุงุฒ ฺฉุงุดุช ู ุฏุงุดุช' },
                    { a: 'ุดุงุฎุต ุจุฑุฏุงุดุช', b: 'ูุณุจุช ุนููฺฉุฑุฏ ุงูุชุตุงุฏ ุจู ุนููฺฉุฑุฏ ฺฉู (ูุฒู ุฎุดฺฉ ฺฏุงู)' },
                    { a: 'ุฑุณุฏฺฏ ูุฒูููฺฺฉ', b: 'ุชููู ุงูุชูุงู ููุงุฏ ูุชูุณูุชุฒ ุจู ูุณูุช ุงูุชุตุงุฏ ฺฏุงู' },
                    { a: 'ุฑุณุฏฺฏ ุชุฌุงุฑ', b: 'ูุฑุญููโุง ฺฉู ูุญุตูู ุจุดุชุฑู ุงุฑุฒุด ุงูุชุตุงุฏ ุฑุง ุฏุงุฑุฏ' },
                    { a: 'ุจุฑุฏุงุดุช ูฺฉุงูุฒู', b: 'ุจุฑุฏุงุดุช ุจุง ุงุณุชูุงุฏู ุงุฒ ูุงุดูโุขูุงุช ุชุฎุตุต ูุงููุฏ ฺฉูุจุงู' },
                    { a: 'ุจุฑุฏุงุดุช ุฏุณุช', b: 'ุจุฑุฏุงุดุช ูุญุตูู ุจู ุตูุฑุช ฺฉุงุฑฺฏุฑ ุจุง ุงุจุฒุงุฑ ุณุงุฏู ูุงููุฏ ุฏุงุณ' },
                    { a: 'ฺฉูุจุงู ุบููโุฑุฒ', b: 'ุฏุณุชฺฏุงู ูฺฉุงูุฒู ุจุฑุง ุจุฑุฏุงุดุช ุบูุงุช ุฏุงููโุฑุฒ ฺฉู ุฏุฑูุ ฺฉูุจุด ู ูพุงฺฉโุณุงุฒ ุฑุง ุงูุฌุงู ูโุฏูุฏ' },
                    { a: 'ุจุณุชูโุจูุฏ ุนูููู', b: 'ูุฑุขูุฏ ุขูุงุฏูโุณุงุฒ ู ุจุณุชูโุจูุฏ ุนูููู ุฌูุช ูฺฏูุฏุงุฑ ุทููุงูโูุฏุช' },
                    { a: 'ุงูุจุงุฑุฏุงุฑ', b: 'ูฺฏูุฏุงุฑ ูุญุตูู ุจุฑุฏุงุดุช ุดุฏู ุฏุฑ ุดุฑุงุท ููุงุณุจ ุชุง ุฒูุงู ูุตุฑู' },
                    { a: 'ุนูุงูู ูุณุงุฏ ูุญุตูู', b: 'ุฏูุงุ ุฑุทูุจุช ู ุงฺฉุณฺู ฺฉู ุณุฑุนุช ูุณุงุฏ ูุญุตูู ุฑุง ุชุนู ูโฺฉููุฏ' }
                ],
                background: 'bg-gradient-to-r from-green-200 to-green-400'
            },
            {
                type: 'ููุงุณูโุง',
                title: 'ุจุฑุฏุงุดุช ุฏุณุช vs ูฺฉุงูุฒู',
                data: [
                    { a: 'ูุณุนุช ุฒูู', b: 'ููุงุณุจ ุจุฑุง ูุฒุงุฑุน ฺฉูฺฺฉ / ููุงุณุจ ุจุฑุง ูุฒุงุฑุน ูุณุน' },
                    { a: 'ุณุฑุนุช ุจุฑุฏุงุดุช', b: 'ฺฉูุฏ / ุณุฑุน' },
                    { a: 'ูุฒูู ฺฉุงุฑฺฏุฑ', b: 'ุจุงูุง / ฺฉูุชุฑ ุงุฒ ุจุฑุฏุงุดุช ุฏุณุช' },
                    { a: 'ฺฉูุช ูุญุตูู', b: 'ุจุดุชุฑ ุงุญุชูุงู ุขุณุจ ุจู ูุญุตูู / ฺฉูุชุฑู ุจูุชุฑ ฺฉูุช ูุญุตูู' },
                    { a: 'ุชุฌูุฒุงุช ููุฑุฏ ูุงุฒ', b: 'ุฏุงุณุ ุฎุฑูู ฺฉูุจ / ฺฉูุจุงูุ ุฏุฑูฺฏุฑุ ุฏุณุชฺฏุงู ุฎุฑุฏฺฉู' },
                    { a: 'ฺฉููุงุฎุช ุฑุณุฏฺฏ', b: 'ฺฉูุชุฑ / ุจุงูุงุชุฑ' },
                    { a: 'ููุงููุช ุจู ุฑุฒุด ุฏุงูู', b: 'ูพุงูโุชุฑ / ุจุง ูุฏุฑุช ูุงุจู ุงูุฒุงุด' },
                    { a: 'ูุฑู ุงูุณุงู', b: 'ุจุดโุชุฑ / ฺฉูโุชุฑ' },
                    { a: 'ุฒูุงู ุจุฑุฏุงุดุช', b: 'ููุนุทูโุชุฑ / ูุญุฏูุฏ ุจู ุฒูุงู ฺฉุงุฑ ูุงุดู' },
                    { a: 'ูุตุฑู ุงูุฑฺ', b: 'ฺฉูุชุฑ / ุจุดุชุฑ (ุณูุฎุช ู ุจุฑู)' }
                ],
                background: 'bg-gradient-to-r from-blue-200 to-blue-400'
            },
            {
                type: 'ููุงุณูโุง',
                title: 'ุฑุณุฏฺฏ ูุฒูููฺฺฉ vs ุชุฌุงุฑ',
                data: [
                    { a: 'ุชุนุฑู', b: 'ุชููู ุงูุฒุงุด ูุงุฏู ุฎุดฺฉ ุฏุฑ ูุณูุช ุงูุชุตุงุฏ / ุจูุชุฑู ุฒูุงู ุจุฑุฏุงุดุช ุจุฑุง ุจุงุฒุงุฑ ู ูุตุฑู' },
                    { a: 'ุฒูุงู ูููุน', b: 'ูพุงุงู ุงูุชูุงู ููุงุฏ ุจู ุงูุฏุงู ูุญุตูู / ูุจู ุง ุจุนุฏ ุฑุณุฏฺฏ ูุฒูููฺฺฉ' },
                    { a: 'ฺฉุงุฑุจุฑุฏ', b: 'ูุดุฎุต ฺฉุฑุฏู ุฒูุงู ุจุฑุฏุงุดุช ุบูุงุช / ุชุนู ุฒูุงู ุจุฑุฏุงุดุช ุณุจุฒุฌุงุช ู ุญุจูุจุงุช ุฎุงุต' },
                    { a: 'ูฺฺฏ', b: 'ูุญุตูู ูุงุจู ุจุฑุฏุงุดุช ูู ุงุฑุฒุด ุจุงุฒุงุฑ ูพุงูโุชุฑ / ุงุฑุฒุด ุงูุชุตุงุฏ ุจุงูุงุชุฑ ู ฺฉูุช ููุงุณุจโุชุฑ' },
                    { a: 'ูุซุงู', b: 'ฺฏูุฏูุ ุฌู / ููุจุง ุณุจุฒุ ูููโูุง' }
                ],
                background: 'bg-gradient-to-r from-yellow-200 to-yellow-400'
            },
            {
                type: 'ููุงุณูโุง',
                title: 'ฺฉูุจุงู ุฎูุฏุฑู vs ฺฉุดุด',
                data: [
                    { a: 'ููุจุน ุญุฑฺฉุช', b: 'ููุชูุฑ ุฏุงุฎู / ุชุฑุงฺฉุชูุฑ' },
                    { a: 'ฺฉุงุฑุจุฑุฏ', b: 'ุฒููโูุง ูุณุทุญ ู ุฏุงุฑุง ุดุจ ฺฉู / ุฒููโูุง ุดุจโุฏุงุฑ ุจุงูุง ุชุง 45 ุฏุฑุฌู' },
                    { a: 'ฺฉูุชุฑู ุนููฺฉุฑุฏ', b: 'ูุณุชูู / ูุงุจุณุชู ุจู ุชุฑุงฺฉุชูุฑ' },
                    { a: 'ูุงุจูุช ุชุทุจู ุจุง ุดุจ', b: 'ูพุงู / ุจุงูุง ุจุง ฺฉูฺฉ ุงุชุตุงู ูููุง' },
                    { a: 'ูุฒูู ุฎุฑุฏ ู ูฺฏูุฏุงุฑ', b: 'ุจุงูุงุชุฑ / ฺฉูุชุฑ' }
                ],
                background: 'bg-gradient-to-r from-gray-200 to-gray-400'
            },
            {
                type: 'ููุงุณูโุง',
                title: 'ุฑุทูุจุช ููุงุณุจ ุจุฑุฏุงุดุช ูุญุตููุงุช',
                data: [
                    { a: 'ฺฏูุฏู', b: '14-16 / ุชุดฺฉู ูุงู ุณุงูุฑูฺฏ ุฏุฑ ุดฺฉุงู ุฏุงููุ ุฒุฑุฏ ุดุฏู ุณุงูู' },
                    { a: 'ฺุบูุฏุฑููุฏ', b: '- / ุฒุฑุฏ ุดุฏู ุจุฑฺฏโูุง ูุณุท ู ููููโุง ุดุฏู ุจุฑฺฏโูุง ฺฉูุงุฑ' },
                    { a: 'ุฐุฑุช ุณูู', b: '70-75 (ุฑุทูุจุช ฺฉู ุจูุชู) / ุฏุงููโูุง ุดุฑ ู ุฎูุฑ' },
                    { a: 'ููุจุง', b: 'ุญุฏูุฏ 20 (ุฑุทูุจุช ุจุฐุฑ) / ุฒุฑุฏ ุดุฏู ุบูุงูโูุงุ ุนุฏู ุฑุฒุด ุฏุงูู' },
                    { a: 'ุจุฑูุฌ', b: '14 / ุฑุณุฏฺฏ ฺฉุงูู ุฏุงููโูุง' }
                ],
                background: 'bg-gradient-to-r from-brown-200 to-brown-400'
            },
            {
                type: 'ููุงุณูโุง',
                title: 'ูุฑุงุญู ุจุฑุฏุงุดุช ูุญุตููุงุช ูุฎุชูู',
                data: [
                    { a: 'ุฒูุงู ููุงุณุจ', b: 'ุฑุณุฏฺฏ ูุฒูููฺฺฉ / ุบูุงูโูุง ุญุฏุงูู 75% ุฑุณุฏฺฏ / ุงูุงู ุชุง ุงูุงุณุท ฺฏูุฏู / ุฒุฑุฏ ุดุฏู ุจุฑฺฏโูุงุ ุถุฎู ุดุฏู ูพูุณุช ุบุฏู' },
                    { a: 'ุนูุงุฆู', b: 'ุฒุฑุฏ ุดุฏู ุณุงููุ ุชุดฺฉู ูุงู ุณุงู / ุฒุฑุฏ ุดุฏู ุบูุงูโูุงุ ุนุฏู ุฑุฒุด / ุดุฑูุน ฺฏูุฏูุ ุฑุดุฏ ุฌูุงููโูุง / ุจุฑฺฏโูุง ุฒุฑุฏ ู ููููโุง' },
                    { a: 'ุฑูุด ุจุฑุฏุงุดุช', b: 'ฺฉูุจุงู ุง ุฏุณุช / ุจุฑุฏุงุดุช ุฏุณุช ุง ฺฉูุจุงู / ุฏุฑูฺฏุฑ ู ุจุณุชูโุจูุฏ / ุจูุ ุฏุณุชฺฏุงู ุบุฏูโฺฉู' }
                ],
                background: 'bg-gradient-to-r from-multicolor-200 to-multicolor-400'
            },
            {
                type: 'ููุงุณูโุง',
                title: 'ุงููุงุน ุจุฑุฏุงุดุช ฺุบูุฏุฑููุฏ',
                data: [
                    { a: 'ุณูุช', b: 'ููู ูุฑุงุญู ุฏุณุช / ูุฒูู ฺฉุงุฑฺฏุฑ ุฒุงุฏุ ุทููุงู ุจูุฏู ุฒูุงู' },
                    { a: 'ููู ูฺฉุงูุฒู', b: 'ุงุณุชูุงุฏู ุงุฒ ฺุบูุฏุฑฺฉู ุจุฑุง ฺฉูุฏู ุฑุดู / ุจุงุฑฺฏุฑ ุฏุณุชุ ูุฒูู ุจุงูุง' },
                    { a: 'ูฺฉุงูุฒู ฺฉุงูู', b: 'ุงุณุชูุงุฏู ุงุฒ ฺฉูุจุงู ฺุบูุฏุฑููุฏ ูุซู ุจู ุนุฑุถ ู ุฒูุฌุฑ ููุงูู / ูพฺุฏฺฏ ูุงุดูโูุงุ ูุงุฒ ุจู ุณุฑูุงู ุฒุงุฏ' }
                ],
                background: 'bg-gradient-to-r from-red-200 to-red-400'
            },
            {
                type: 'ููุงุณูโุง',
                title: 'ุนูุงูู ุงูุจุงุฑุฏุงุฑ',
                data: [
                    { a: 'ุฏูุง', b: 'ฺฉุงูุด ูุณุงุฏ ุจุง ุฏูุง ูพุงู / ุงูุฒุงุด ูุณุงุฏ ุจุง ุฏูุง ุจุงูุง' },
                    { a: 'ุฑุทูุจุช', b: 'ูฺฏูุฏุงุฑ ุจููู ุจุง ุฑุทูุจุช ูพุงู / ุฑุดุฏ ฺฉูพฺฉโูุง ุจุง ุฑุทูุจุช ุจุงูุง' },
                    { a: 'ุงฺฉุณฺู', b: 'ฺฉุงูุด ูุนุงูุช ุขูุงุช ู ูฺฉุฑูุงุฑฺฏุงูุณูโูุง / ฺฉุงูุด ุฌูุงููโุฒู ุจุฐุฑ' }
                ],
                background: 'bg-gradient-to-r from-blue-200 to-blue-400'
            },
            {
                type: 'ููุงุณูโุง',
                title: 'ุงูุจุงุฑูุง ููุฒ vs ุจุชูู',
                data: [
                    { a: 'ูุฒู ู ุงุณุชุญฺฉุงู', b: 'ุณุจฺฉโุชุฑ ุงูุง ฺฉูุชุฑ ููุงูู / ุณูฺฏู ู ุจุงุฏูุงูโุชุฑ' },
                    { a: 'ุนุงู ุญุฑุงุฑุช', b: 'ฺฉูุชุฑ / ุจูุชุฑ' },
                    { a: 'ูุฒูู ุณุงุฎุช', b: 'ฺฏุฑุงูโุชุฑ / ุงุฑุฒุงูโุชุฑ' },
                    { a: 'ูฺฏูุฏุงุฑ', b: 'ูุงุฒ ุจู ุญูุธ ูพูุดุด ุถุฏุฒูฺฏ / ููุงููโุชุฑ ุจู ุดุฑุงุท ุฌู' }
                ],
                background: 'bg-gradient-to-r from-gray-200 to-gray-400'
            },
            {
                type: 'ููุงุณูโุง',
                title: 'ุนููุงุช ฺฉูุจุงู',
                data: [
                    { a: 'ุจุฑุด ู ุชุบุฐู', b: 'ูุทุน ูุญุตูู ุณุฑูพุง ู ุชุบุฐู ุจู ุฏุงุฎู ุฏุณุชฺฏุงู' },
                    { a: 'ฺฉูุจุฏู', b: 'ุฌุฏุงฺฉุฑุฏู ุฏุงูู ุงุฒ ฺฉูุด ู ฺฉุงู' },
                    { a: 'ุฌุฏุง ฺฉุฑุฏู', b: 'ุชูฺฉฺฉ ุฏุงูู ุงุฒ ุฎุฑุฏู ฺฉุงู ู ฺฉูุด' },
                    { a: 'ุชูุฒ ฺฉุฑุฏู', b: 'ุฒุฏูุฏู ููุงุฏ ุฒุงุฆุฏ ุงุฒ ุฏุงูู ุชูุฒ' },
                    { a: 'ุฌุงุจูโุฌุง', b: 'ุงูุชูุงู ุฏุงูู ุชูุฒ ุจู ูุฎุฒู ู ุจุงู ูุงูุฏูโูุง ุจู ุฒูู' }
                ],
                background: 'bg-gradient-to-r from-yellow-200 to-yellow-400'
            },
            {
                type: 'ููุงุณูโุง',
                title: 'ุงุตูู ุญูุธ ฺฉูุช ุฏุฑ ุงูุจุงุฑ',
                data: [
                    { a: 'ฺฉูุชุฑู ุฏูุง', b: 'ุฌููฺฏุฑ ุงุฒ ุงูุฒุงุด ุชุฏุฑุฌ ุฏูุง ฺฉู ููุฌุจ ูุณุงุฏ ูโุดูุฏ' },
                    { a: 'ฺฉูุชุฑู ุฑุทูุจุช', b: 'ุฌููฺฏุฑ ุงุฒ ุชุฌูุน ุฑุทูุจุช ุจุงูุง ู ุฑุดุฏ ูฺฉุฑูุงุฑฺฏุงูุณูโูุง' },
                    { a: 'ุชููู ููุงุณุจ', b: 'ุฌุงุจุฌุง ููุง ุจุฑุง ฺฉุงูุด ุฏูุง ู ุฑุทูุจุช ูุญู' },
                    { a: 'ุนุงูโุจูุฏ ฺฉู ู ุฏูุงุฑู', b: 'ูพุดฺฏุฑ ุงุฒ ูููุฐ ุฑุทูุจุช ูุญุท ุจู ูุญุตูู' },
                    { a: 'ุฏุณุชุฑุณ ุขุณุงู', b: 'ุจุฑุง ุจุงุฒุฏุฏุ ุชููู ู ุจุฑุฏุงุดุช ูุญุตูู ุจู ูููุน' }
                ],
                background: 'bg-gradient-to-r from-green-200 to-green-400'
            },
            {
                type: 'ุฏุณุชูโุจูุฏ',
                title: 'ุจุฑุฏุงุดุช ูุญุตูู ุจุฑ ุงุณุงุณ ูุตุฑู',
                data: [
                    { a: 'ูุตุฑู ุฏุงููโุง', b: 'ฺฏูุฏูุ ุฌูุ ุจุฑูุฌุ ุฐุฑุชุ ููุจุง' },
                    { a: 'ูุตุฑู ฺฏู', b: 'ุฒุนูุฑุงู' },
                    { a: 'ูุตุฑู ูุณูุชโูุง ุนูู', b: 'ููุฌูุ ุดุจุฏุฑุ ุณุจุฒโูุง ุจุฑฺฏ ู ุณุงููโุง' },
                    { a: 'ูุตุฑู ุงูุฏุงู ุฒุฑุฒูู', b: 'ฺุบูุฏุฑููุฏุ ุณุจโุฒูู' },
                    { a: 'ูุตุฑู ูููโุง', b: 'ฺฏูุฌู ูุฑูฺฏุ ุฎุงุฑุ ููุฏูุงููุ ุฏุฑุฎุชุงู ููู' },
                    { a: 'ูุตุฑู ุณุงููโุง', b: 'ูุดฺฉุฑุ ฺฉููุ ูุงุฑฺูุจู' },
                    { a: 'ูุตุฑู ุจุฑฺฏโูุง ุฎุงุต', b: 'ฺุงุ ุชูุชูู' }
                ],
                background: 'bg-gradient-to-r from-multicolor-200 to-multicolor-400'
            },
            {
                type: 'ุฏุณุชูโุจูุฏ',
                title: 'ุทุจููโุจูุฏ ุฑุณุฏฺฏ ูุญุตููุงุช',
                data: [
                    { a: 'ุฑุณุฏฺฏ ูุฒูููฺฺฉ', b: 'ุชููู ุฑุดุฏ ูุฒู ุงูุฏุงู ุงูุชุตุงุฏ' },
                    { a: 'ุฑุณุฏฺฏ ุชุฌุงุฑ', b: 'ุฒูุงู ุฑุณุฏู ุงุฑุฒุด ุงูุชุตุงุฏ ุจุดุชุฑ ุจุฑุง ุจุงุฒุงุฑ' },
                    { a: 'ุฑุณุฏฺฏ ุชุฌุงุฑ ุฌุฒุฆ', b: 'ูุญุตูู ูุจู ุงุฒ ุง ุจุนุฏ ุฑุณุฏฺฏ ูุฒูููฺฺฉ ุจุฑุฏุงุดุช ูโุดูุฏ' }
                ],
                background: 'bg-gradient-to-r from-yellow-200 to-yellow-400'
            },
            {
                type: 'ุฏุณุชูโุจูุฏ',
                title: 'ุฑูุดโูุง ุจุฑุฏุงุดุช ูุญุตููุงุช ุฒุฑุงุน',
                data: [
                    { a: 'ุจุฑุฏุงุดุช ุฏุณุช', b: 'ูุถุงูุง ฺฉูฺฺฉุ ูุฒูู ุจุดุชุฑ ูุฑู ุงูุณุงู' },
                    { a: 'ุจุฑุฏุงุดุช ููู ูฺฉุงูุฒู', b: 'ุชุฑฺฉุจ ูุงุดู ู ูุฑู ุงูุณุงูุ ููุงุณุจ ุฒูู ูุชูุณุท' },
                    { a: 'ุจุฑุฏุงุดุช ูฺฉุงูุฒู', b: 'ุฒููโูุง ูุณุนุ ฺฉูุจูุฏ ูุฑู ุงูุณุงูุ ุณุฑุนุช ุจุงูุง' }
                ],
                background: 'bg-gradient-to-r from-green-200 to-green-400'
            },
            {
                type: 'ุฏุณุชูโุจูุฏ',
                title: 'ุฏุณุชูโุจูุฏ ฺฉูุจุงูโูุง',
                data: [
                    { a: 'ฺฉูุจุงูโูุง ุฎูุฏุฑู', b: 'ููุชูุฑ ู ฺุฑุฎ ูุณุชููุ ููุงุณุจ ุฒูู ูุณุทุญ' },
                    { a: 'ฺฉูุจุงูโูุง ฺฉุดุด', b: 'ฺฉุดุฏู ุดุฏู ุชูุณุท ุชุฑุงฺฉุชูุฑุ ููุงุณุจ ุฒูู ุดุจโุฏุงุฑ' }
                ],
                background: 'bg-gradient-to-r from-gray-200 to-gray-400'
            },
            {
                type: 'ุฏุณุชูโุจูุฏ',
                title: 'ฺฏุงูุงู ุนููููโุง ุจุฑ ุงุณุงุณ ุฒูุงู ุจุฑุฏุงุดุช',
                data: [
                    { a: 'ุจุฑุฏุงุดุช ุฒูุฏ ููฺฏุงู', b: 'ฺฉูุช ุจุงูุงุ ฺฉูุช ฺฉูุชุฑ' },
                    { a: 'ุจุฑุฏุงุดุช ุฏุฑ ููฺฏุงู', b: 'ฺฉูุช ูพุงูโุชุฑุ ฺฉูุช ุจุดุชุฑ' },
                    { a: 'ุฒูุงู ูุชุนุงุฏู', b: 'ููุทู ุชุนุงุฏู ุจู ฺฉูุช ู ฺฉูุช' }
                ],
                background: 'bg-gradient-to-r from-green-200 to-green-400'
            },
            {
                type: 'ุฏุณุชูโุจูุฏ',
                title: 'ุงุฌุฒุง ูุงุดูโูุง ุจุฑุฏุงุดุช ุนูููู',
                data: [
                    { a: 'ุฏุฑูฺฏุฑ', b: 'ุจุฑุฏู ฺฏุงู' },
                    { a: 'ุฑุฏูโฺฉู', b: 'ุฌูุนโุขูุฑ ู ุฑุฏู ฺฉุฑุฏู ุนูููู' },
                    { a: 'ุจุณุชูโุจูุฏ', b: 'ุขูุงุฏูโุณุงุฒ ุจุฑุง ุญูู ู ุจุณุชูโุจูุฏ' },
                    { a: 'ุฎุฑุฏฺฉู', b: 'ุฎุฑุฏฺฉุฑุฏู ุจุฑุง ุณูู' }
                ],
                background: 'bg-gradient-to-r from-yellow-200 to-yellow-400'
            },
            {
                type: 'ุฏุณุชูโุจูุฏ',
                title: 'ุงููุงุน ุจุฑุฏุงุดุช ฺุบูุฏุฑููุฏ',
                data: [
                    { a: 'ุณูุช', b: 'ุนููุงุช ุฏุณุช ฺฉุงููุ ูุฒูู ุฒุงุฏ ูุฑู ฺฉุงุฑ' },
                    { a: 'ููู ูฺฉุงูุฒู', b: 'ฺฉูุฏู ุฑุดู ุจุง ูุงุดูุ ุจุงุฑฺฏุฑ ุฏุณุช' },
                    { a: 'ูฺฉุงูุฒู ฺฉุงูู', b: 'ุงูุฌุงู ุชูุงู ุนููุงุช ุจุง ฺฉูุจุงู' }
                ],
                background: 'bg-gradient-to-r from-red-200 to-red-400'
            },
            {
                type: 'ุฏุณุชูโุจูุฏ',
                title: 'ุนูุงูู ูุคุซุฑ ุจุฑ ุทูู ุฏูุฑู ุงูุจุงุฑุฏุงุฑ ุบูุงุช',
                data: [
                    { a: 'ุฏูุง', b: 'ฺฉุงูุด ุฏูุง ุทูู ุฏูุฑู ุงูุจุงุฑุฏุงุฑ ุฑุง ุงูุฒุงุด ูโุฏูุฏ' },
                    { a: 'ุฑุทูุจุช', b: 'ุงูุฒุงุด ุฑุทูุจุช ุฏูุฑู ุงูุจุงุฑุฏุงุฑ ุฑุง ฺฉุงูุด ูโุฏูุฏ' },
                    { a: 'ููุฑ ู ุฌุฑุงู ููุง', b: 'ูุงุจู ฺฉูุชุฑู ุจูุฏูุ ุญูุธ ฺฉูุช ูุญุตูู ุงุณุช' }
                ],
                background: 'bg-gradient-to-r from-blue-200 to-blue-400'
            },
            {
                type: 'ุฏุณุชูโุจูุฏ',
                title: 'ุทุจููโุจูุฏ ุนูุงุฆู ุฑุณุฏฺฏ ุบูุงุช',
                data: [
                    { a: 'ุฑุณุฏฺฏ ูุฒูููฺฺฉ', b: 'ุฒุฑุฏ ุดุฏู ุณุงููุ ุชุดฺฉู ูุงู ุณุงูุฑูฺฏ ุฏุฑ ุฏุงูู' },
                    { a: 'ุฑุณุฏฺฏ ุชุฌุงุฑ', b: 'ุฑุณุฏู ุฑุทูุจุช ุฏุงูู ุจู 14-16 ุฏุฑุตุฏ' }
                ],
                background: 'bg-gradient-to-r from-yellow-200 to-yellow-400'
            },
            {
                type: 'ุฏุณุชูโุจูุฏ',
                title: 'ุงูุฏุงูุงุช ูุงุฒู ูุจู ุงุฒ ุจุฑุฏุงุดุช ุณุจโุฒูู',
                data: [
                    { a: 'ุญุฐู ุงูุฏุงู ููุง', b: 'ฑฐ ุฑูุฒ ูุจู ุงุฒ ุจุฑุฏุงุดุช ุฌูุช ุฑุณุฏฺฏ ุจูุชุฑ ุบุฏูโูุง' },
                    { a: 'ุงุทููุงู ุงุฒ ุฑุทูุช ุฎุงฺฉ', b: 'ุจุฑุง ุฌุฏุงุดุฏู ุขุณุงู ุบุฏูโูุง ู ฺฉุงูุด ุขุณุจ' }
                ],
                background: 'bg-gradient-to-r from-brown-200 to-brown-400'
            }
        ];

        let currentTable = 0;
        let selectedA = null;
        let connections = [];
        let completedTables = [];
        const clickSound = new Audio('https://cdn.pixabay.com/audio/2023/08/08/audio_3f6b7b2c4b.mp3');
        const fireworksSound = new Audio('https://cdn.pixabay.com/audio/2023/08/08/audio_4e7b2b3c5c.mp3');

        // ูุฏุฑุช ุฎุทุง localStorage
        try {
            completedTables = JSON.parse(localStorage.getItem('completedTables')) || [];
        } catch (e) {
            console.error('ุฎุทุง ุฏุฑ ุฏุณุชุฑุณ ุจู localStorage:', e);
            completedTables = [];
        }

        function showToast(message, type) {
            const toast = `<div class="toast bg-${type === 'error' ? 'red' : 'green'}-500 text-white p-3 rounded-lg shadow-lg">${message}</div>`;
            $('#toast-container').append(toast);
            setTimeout(() => $('#toast-container .toast').first().remove(), 2500);
        }

        function shuffle(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[i], array[j]];
            }
            return array;
        }

        function loadTable(index) {
            if (index >= tables.length) {
                showToast('ุชุจุฑฺฉ! ููู ุฌุฏุงูู ฺฉุงูู ุดุฏูุฏ! ๐', 'success');
                try {
                    localStorage.removeItem('completedTables');
                } catch (e) {
                    console.error('ุฎุทุง ุฏุฑ ุญุฐู localStorage:', e);
                }
                currentTable = 0;
                loadTable(0);
                return;
            }
            const table = tables[index];
            $('#matching-game').removeClass().addClass(table.background + ' rounded-lg p-4');
            $('#column-a').empty();
            $('#column-b').empty();
            $('#lines').empty();
            connections = [];
            const shuffledB = shuffle([...table.data.map(item => item.b)]);
            table.data.forEach((item, i) => {
                $('#column-a').append(`<div class="matching-card bg-yellow-100 border-2 border-yellow-500 p-3 rounded-lg cursor-pointer text-sm" data-index="${i}">${item.a}</div>`);
                $('#column-b').append(`<div class="matching-card bg-green-100 border-2 border-green-500 p-3 rounded-lg cursor-pointer text-sm" data-b="${item.b}">${shuffledB[i]}</div>`);
            });
            $('#progress').text(`ูพุงุฒู ${index + 1} ุงุฒ ${tables.length}: ${table.type} - ${table.title}`);
        }

        function drawLine(x1, y1, x2, y2, id) {
            const line = `<line id="line-${id}" x1="${x1}" y1="${y1}" x2="${x2}" y2="${y2}" stroke="blue" stroke-width="2"/>`;
            $('#lines').append(line);
        }

        function checkCompletion() {
            const correctPairs = tables[currentTable].data.map((item, i) => ({ a: i, b: item.b }));
            const isCorrect = connections.every(conn => {
                const correct = correctPairs.find(pair => pair.a === conn.a && pair.b === conn.b);
                return correct;
            });
            if (isCorrect && connections.length === tables[currentTable].data.length) {
                showToast('ุฌูุชโุณุงุฒ ุฏุฑุณุช! ูุดูุดูโูุง ุฑูุดู ุดุฏูุฏ! ๐', 'success');
                fireworksSound.play().catch(e => console.error('ุฎุทุง ุฏุฑ ูพุฎุด ุตุฏุง:', e));
                showFireworks();
                setTimeout(() => {
                    completedTables.push(currentTable);
                    try {
                        localStorage.setItem('completedTables', JSON.stringify(completedTables));
                    } catch (e) {
                        console.error('ุฎุทุง ุฏุฑ ุฐุฎุฑู localStorage:', e);
                    }
                    currentTable++;
                    loadTable(currentTable);
                }, 5000);
            } else if (connections.length > 0 && !isCorrect) {
                showToast('ุฌูุชโุณุงุฒ ุงุดุชุจุงู! ุงุชุตุงู ุญุฐู ุดุฏ.', 'error');
                const lastConn = connections.pop();
                $(`#line-${lastConn.id}`).remove();
                $(`.matching-card[data-index="${lastConn.a}"]`).removeClass('connected');
                $(`.matching-card[data-b="${lastConn.b}"]`).removeClass('connected');
            }
        }

        function showFireworks() {
            const canvas = document.getElementById('fireworks');
            canvas.classList.remove('hidden');
            const ctx = canvas.getContext('2d');
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            const particles = [];
            for (let i = 0; i < 150; i++) {
                particles.push({
                    x: Math.random() * canvas.width,
                    y: Math.random() * canvas.height,
                    radius: Math.random() * 5 + 2,
                    color: `hsl(${Math.random() * 360}, 100%, 50%)`,
                    vx: (Math.random() - 0.5) * 12,
                    vy: (Math.random() - 0.5) * 12
                });
            }
            function animate() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                particles.forEach(p => {
                    p.x += p.vx;
                    p.y += p.vy;
                    p.vy += 0.15;
                    ctx.beginPath();
                    ctx.arc(p.x, p.y, p.radius, 0, Math.PI * 2);
                    ctx.fillStyle = p.color;
                    ctx.fill();
                });
                if (Date.now() < startTime + 5000) requestAnimationFrame(animate);
                else canvas.classList.add('hidden');
            }
            const startTime = Date.now();
            animate();
        }

        $(document).on('click', '.matching-card', function() {
            const $this = $(this);
            if ($this.hasClass('connected')) return;
            clickSound.play().catch(e => console.error('ุฎุทุง ุฏุฑ ูพุฎุด ุตุฏุง:', e));
            $this.addClass('bg-blue-200');
            if ($this.parent().attr('id') === 'column-a') {
                if (selectedA) selectedA.removeClass('bg-blue-200');
                selectedA = $this;
            } else if (selectedA) {
                const aIndex = parseInt(selectedA.data('index'));
                const bValue = $this.data('b');
                const connId = connections.length;
                connections.push({ a: aIndex, b: bValue, id: connId });
                selectedA.addClass('connected');
                $this.addClass('connected');
                const aPos = selectedA.position();
                const bPos = $this.position();
                const gamePos = $('#matching-game').position();
                drawLine(
                    aPos.left + selectedA.width() + gamePos.left,
                    aPos.top + selectedA.height() / 2 + gamePos.top,
                    bPos.left + gamePos.left,
                    bPos.top + $this.height() / 2 + gamePos.top,
                    connId
                );
                selectedA.removeClass('bg-blue-200');
                selectedA = null;
                checkCompletion();
            }
        });

        $('#next-table').on('click', () => {
            currentTable++;
            loadTable(currentTable);
        });

        $('#reset-table').on('click', () => {
            loadTable(currentTable);
            showToast('ุฌุฏูู ุจุงุฒูุดุงู ุดุฏ!', 'success');
        });

        // ุดุฑูุน ุจุง ุขุฎุฑู ุฌุฏูู ูุงุชูุงู ุง ุงููู ุฌุฏูู
        currentTable = completedTables.length > 0 ? Math.max(...completedTables) + 1 : 0;
        loadTable(currentTable);
    </script>
</body>
</html>