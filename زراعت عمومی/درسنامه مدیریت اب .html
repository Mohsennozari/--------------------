<!DOCTYPE html>
<html lang="fa">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>درسنامه جامع مدیریت آب و آبیاری</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/react@18.2.0/umd/react.production.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/react-dom@18.2.0/umd/react-dom.production.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@babel/standalone@7.22.9/babel.min.js"></script>
  <style>
    body {
      font-family: 'Vazirmatn', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      direction: rtl;
      text-align: right;
      margin: 0;
      padding: 0;
      background-color: #f3f4f6;
    }
    @font-face {
      font-family: 'Vazirmatn';
      src: url('https://cdn.fontcdn.ir/Fonts/Vazirmatn/Vazirmatn-Regular.woff2') format('woff2');
      font-weight: normal;
      font-style: normal;
    }
  </style>
</head>
<body>
  <div id="root"></div>
  <script type="text/babel">
    const { useState } = React;

    const sections = [
      {
        title: "اهمیت و تعریف آبیاری",
        summary: "آب نهاده حیاتی کشاورزی است؛ حدود ۷۰ درصد مصرف جهانی آب برای کشاورزی است. در مناطق خشک و نیمه‌خشک، کشاورزی به شدت به آبیاری وابسته است. آبیاری یعنی رساندن آب کافی به خاک که رطوبتش برای رشد گیاه ناکافی است. هدف‌های دیگر آبیاری شامل کنترل دما، شستشوی خاک شور، تسهیل عملیات کشاورزی و کنترل علف‌های هرز است. آبیاری باید به صورت یکنواخت، کنترل شده و در زمان نیاز انجام شود.",
        questions: [
          { id: 1, text: "چه درصدی از مصرف آب جهان به کشاورزی اختصاص دارد؟", options: ["۳۰٪", "۵۰٪", "۷۰٪", "۹۰٪"], answer: "۷۰٪" },
          { id: 2, text: "تعریف آبیاری چیست؟", options: ["افزایش رطوبت هوا در مزرعه", "رساندن آب کافی به خاک برای رشد گیاه", "افزودن کود به خاک", "کنترل دما در مزرعه"], answer: "رساندن آب کافی به خاک برای رشد گیاه" },
          { id: 3, text: "آبیاری تکمیلی چیست؟", options: ["آبیاری در زمان مناسب بدون بارندگی کافی", "آبیاری فقط به وسیله بارندگی", "آبیاری بیش از حد نیاز گیاه", "حذف آبیاری در دوره رشد"], answer: "آبیاری در زمان مناسب بدون بارندگی کافی" },
          { id: 4, text: "عملکرد مطلوب آبیاری به چه عواملی بستگی دارد؟", options: ["زمان مناسب و کنترل آب", "فقط مقدار زیاد آب", "فقط نوع گیاه", "فقط روش کوددهی"], answer: "زمان مناسب و کنترل آب" }
        ],
        flashcards: [
          { front: "آبیاری", back: "رساندن آب به خاک نیازمند آب برای رشد گیاه" },
          { front: "آبیاری کامل", back: "تأمین کامل نیاز آبی گیاه بدون امکان توسعه زیرکشت" },
          { front: "آبیاری تکمیلی", back: "تأمین آب در صورت کمبود بارندگی" },
          { front: "اهداف آبیاری", back: "کنترل دما، شستشوی خاک، تسهیل عملیات کشاورزی" },
          { front: "اهمیت آب", back: "عامل اصلی کشاورزی جهان با مصرف ۷۰٪ آب" },
          { front: "راندمان آبیاری", back: "درصد اثربخشی مصرف آب در مزرعه" }
        ],
        memorization: [
          "آب نهاده اساسی در کشاورزی است.",
          "آبیاری باید به صورت یکنواخت و کنترل شده انجام شود.",
          "در شرایط کمبود آب، مدیریت آبیاری به صورت کم‌آبیاری انجام می‌شود."
        ]
      },
      {
        title: "چرخه آب و منابع آب در کشاورزی",
        summary: "آب در طبیعت تحت فرایندهای مختلف مانند بارندگی، تبخیر، تعرق، نفوذ و ورود به آب‌های زیرزمینی جریان می‌یابد. باران منبع اصلی آب کشاورزی است و منابع آبیاری شامل بارندگی، رودخانه، چشمه، قنات و چاه است. میزان منابع آب متأثر از اقلیم منطقه است. در مناطق خشک، تامین آب از منابع ذخیره شده زیرزمینی و سطحی اهمیت بالایی دارد.",
        questions: [
          { id: 1, text: "منبع اصلی آب در کشاورزی چیست؟", options: ["رودخانه", "بارندگی", "چشمه", "قنات"], answer: "بارندگی" },
          { id: 2, text: "در کدام نوع اقلیم بارندگی به تنهایی نیاز آبی گیاه را تأمین نمی‌کند؟", options: ["مرطوب", "نیمه‌مرطوب", "خشک", "همه موارد"], answer: "خشک" },
          { id: 3, text: "چرخه آب شامل کدام فرایندها است؟", options: ["بارندگی، تبخیر، تعرق", "نفوذ، رواناب، پوشش گیاهی", "انتقال آب به گیاه", "توده آبیاری"], answer: "بارندگی، تبخیر، تعرق" }
        ],
        flashcards: [
          { front: "چرخه آب", back: "جریان آب در طبیعت شامل بارندگی و تبخیر" },
          { front: "منابع آب کشاورزی", back: "رودخانه، چشمه، قنات، چاه" },
          { front: "آب زیرزمینی", back: "آب ذخیره شده در سفره‌های زیرزمینی" },
          { front: "تعرق", back: "تبخیر آب از سطح گیاه" },
          { front: "نفوذ", back: "ورود آب به خاک" },
          { front: "رواناب", back: "حرکت آب روی زمین" }
        ],
        memorization: [
          "چرخه آب در چهار حوزه لیتوسفر، هیدروسفر، اتمسفر و بیوسفر جریان دارد.",
          "بارندگی منبع اصلی تأمین آب کشاورزی است.",
          "اقلیم منطقه تعیین‌کننده نوع و میزان منابع آب است."
        ]
      },
      {
        title: "آب در خاک و پتانسیل آبی",
        summary: "آب در خاک از نقاط با پتانسیل بیشتر به کمتر حرکت می‌کند. پتانسیل آب خاک شامل ماتریک، اسمزی، ثقلی و فشاری است. خاک زمانی اشباع است که تمامی فضاهای خالی آن پر از آب باشد. آب ثقلی پس از زهکشی از خاک خارج می‌شود و آب باقی مانده در خاک رطوبت ظرفیت زراعی (FC) است که برای رشد گیاه مطلوب است. نقطه پژمردگی دائم (PWP) حد پایین آب قابل استفاده توسط گیاه است. خاک‌های لومی بیشترین ظرفیت نگهداری آب را دارند.",
        questions: [
          { id: 1, text: "حرکت آب در خاک چگونه است؟", options: ["از پتانسیل آب کمتر به بیشتر", "از پتانسیل آب بیشتر به کمتر", "بدون تغییر پتانسیل", "تصادفی"], answer: "از پتانسیل آب بیشتر به کمتر" },
          { id: 2, text: "ظرفیت زراعی (FC) چیست؟", options: ["آبی که بلافاصله پس از آبیاری زهکشی می‌شود", "آبی که پس از زهکشی باقی مانده و برای گیاه قابل استفاده است", "کمترین رطوبت خاک", "آب غیرقابل دسترس گیاه"], answer: "آبی که پس از زهکشی باقی مانده و برای گیاه قابل استفاده است" },
          { id: 3, text: "نقطه پژمردگی دائم (PWP) چیست؟", options: ["حداقل رطوبت خاک که گیاه نمی‌تواند آب جذب کند", "بیشترین میزان رطوبت خاک", "رطوبت متعادل خاک", "آبی که سریع جذب گیاه می‌شود"], answer: "حداقل رطوبت خاک که گیاه نمی‌تواند آب جذب کند" },
          { id: 4, text: "پتانسیل آب خاک شامل کدام موارد است؟", options: ["ماتریک، اسمزی، ثقلی، فشاری", "فقط ماتریک و ثقلی", "اسمزی و فشاری", "فقط ثقلی"], answer: "ماتریک، اسمزی، ثقلی، فشاری" }
        ],
        flashcards: [
          { front: "پتانسیل آب", back: "مجموع نیروهای موثر بر حرکت آب در خاک" },
          { front: "آب ثقلی", back: "آبی که به سرعت پس از آبیاری زهکشی می‌شود" },
          { front: "ظرفیت زراعی", back: "مقدار آبی که در خاک برای گیاه قابل استفاده است" },
          { front: "نقطه پژمردگی دائم", back: "حداقل رطوبت خاک برای بقای گیاه" },
          { front: "خاک اشباع", back: "خاکی که تمام فضاهای خالی آن پر از آب است" },
          { front: "خاک لومی", back: "خاکی با بیشترین ظرفیت نگهداری آب" }
        ],
        memorization: [
          "آب خاک از نقطه با پتانسیل بیشتر به کمتر حرکت می‌کند.",
          "ظرفیت زراعی مهم‌ترین رطوبت بهینه برای رشد گیاه است.",
          "نقطه پژمردگی دائم حد پایینی آب قابل استفاده برای گیاه است."
        ]
      },
      {
        title: "حرکت آب در سیستم خاک-گیاه-اتمسفر و نیاز آبی گیاه",
        summary: "آب همیشه از خاک به ریشه، سپس ساقه و برگ حرکت می‌کند با شیب پتانسیل آب کمتر در سمت برگ. تعرق باعث حرکت مستمر آب می‌شود. نیاز آبی گیاهان متفاوت است؛ گیاهان هیدروفیت به آب زیاد و گیاهان زروفیت به آب کم نیاز دارند. عوامل گیاهی، خاکی، اقلیمی و زراعی بر نیاز آبی تأثیرگذارند. نیاز آبی گیاه با نیاز آبی آبیاری متفاوت است. حساس‌ترین مراحل رشد به تنش خشکی، مرحله رویشی و اواخر رشد است.",
        questions: [
          { id: 1, text: "جهت حرکت آب در گیاه چگونه است؟", options: ["برگ به ریشه", "ریشه به برگ", "اتمسفر به خاک", "برگ به خاک"], answer: "ریشه به برگ" },
          { id: 2, text: "گیاه هیدروفیت چیست؟", options: ["گیاهی که نیاز آبی کمی دارد", "گیاهی که به آب فراوان نیاز دارد", "گیاهی مقاوم به خشکی", "گیاهی که در خاک خشک رشد می‌کند"], answer: "گیاهی که به آب فراوان نیاز دارد" },
          { id: 3, text: "مهم‌ترین عوامل موثر بر نیاز آبی گیاه کدامند؟", options: ["فقط خاک", "اقلیم، خاک، عوامل زراعی، گیاهی", "فقط اقلیم", "فقط نوع گیاه"], answer: "اقلیم، خاک، عوامل زراعی، گیاهی" },
          { id: 4, text: "حساس‌ترین مرحله رشد گیاه به کمبود آب کدام است؟", options: ["مرحله رویشی", "مرحله برداشت", "مرحله گل‌دهی", "مرحله استراحت"], answer: "مرحله رویشی" }
        ],
        flashcards: [
          { front: "شیب پتانسیل آب", back: "خاک > ریشه > ساقه > برگ" },
          { front: "تعرق", back: "فرایند تبخیر آب از برگ گیاه" },
          { front: "گیاه هیدروفیت", back: "نیاز آبی زیاد" },
          { front: "گیاه زروفیت", back: "نیاز آبی کم" },
          { front: "عوامل مؤثر نیاز آبی", back: "گیاهی، خاکی، اقلیمی، زراعی" },
          { front: "مرحله حساس آبیاری", back: "مرحله رویشی" }
        ],
        memorization: [
          "حرکت آب در گیاه بر اساس شیب پتانسیل است.",
          "نیاز آبی گیاهان با شرایط محیطی و گونه متغیر است.",
          "مرحله رویشی بیشتر حساس به تنش خشکی است."
        ]
      },
      {
        title: "روش‌های آبیاری سطحی، بارانی و قطره‌ای",
        summary: "آبیاری سطحی شامل روش‌های غرقابی، نواری و جوی پشته‌ای است که بر اساس جريان آب روان روی زمین انجام می‌شود. آبیاری غرقابی کنترل شده نیازمند اراضی مسطح و زهکشی مناسب است. آبیاری نواری در نوارهای شیب‌دار انجام می‌شود و در خاک‌های ریزبافت مشکلات ایجاد می‌کند. آبیاری جوی پشته‌ای برای محصولات ردیفی کاربرد دارد. آبیاری بارانی با پاشیدن آب مانند باران انجام می‌شود و مناسب خاک‌های متخلخل است. آبیاری قطره‌ای با استفاده از قطره‌چکان‌ها آب را به ریشه می‌رساند و بالاترین راندمان را دارد ولی محدودیت‌هایی چون گرفتگی قطره‌چکان‌ها دارد.",
        questions: [
          { id: 1, text: "آبیاری سطحی چگونه انجام می‌شود؟", options: ["بر اساس پاشیدن آب", "بر اساس جریان سطحی آب روی خاک", "با سیستم لوله‌ای زیرزمینی", "با استفاده از قطره‌چکان‌ها"], answer: "بر اساس جریان سطحی آب روی خاک" },
          { id: 2, text: "برای کدام نوع محصول آبیاری جوی پشته‌ای مناسب است؟", options: ["محصولات ردیفی", "محصولات غرقابی", "گیاهان مقاوم به خشکی", "گیاهان زوفیت"], answer: "محصولات ردیفی" },
          { id: 3, text: "مزیت اصلی آبیاری قطره‌ای چیست؟", options: ["مصرف کم آب و راندمان بالا", "نیاز به نیروی کار زیاد", "پخش نامساوی آب", "تولید رواناب زیاد"], answer: "مصرف کم آب و راندمان بالا" },
          { id: 4, text: "محدودیت آبیاری نواری چیست؟", options: ["ایجاد سله خاک", "عدم مصرف کود", "مصرف زیاد انرژی", "عدم تناسب با خاک‌های ماسه‌ای"], answer: "ایجاد سله خاک" }
        ],
        flashcards: [
          { front: "آبیاری سطحی", back: "جریان آب با نیروی جاذبه روی زمین" },
          { front: "آبیاری غرقابی", back: "آب به صورت یکنواخت روی زمین پخش می‌شود" },
          { front: "آبیاری نواری", back: "آب در نوارهای شیب‌دار جاری می‌شود" },
          { front: "آبیاری قطره‌ای", back: "رساندن آب به ریشه توسط قطره‌چکان" },
          { front: "آبیاری بارانی", back: "پاشیدن آب به صورت قطرات روی سطح" },
          { front: "محدودیت آبیاری قطره‌ای", back: "گرفتگی قطره‌چکان، تجمع نمک" }
        ],
        memorization: [
          "آبیاری سطحی ارزان ولی مصرف آب بسیار دارد.",
          "آبیاری قطره‌ای پرهزینه ولی پر راندمان است.",
          "آبیاری بارانی نیازمند تجهیزات و انرژی مناسب است."
        ]
      },
      {
        title: "راندمان آبیاری و کاربرد آب",
        summary: "راندمان آبیاری عبارت است از نسبت آب مصرف شده توسط گیاه به آبی که از منبع برداشت و به مزرعه منتقل شده است. این راندمان به راندمان انتقال و راندمان کاربرد آب در مزرعه تقسیم می‌شود. راندمان کل بین ۲۰ تا ۹۰ درصد متغیر است. راندمان بالا نشان‌دهنده استفاده بهینه از منابع آب است که نیازمند نگهداری کانال‌ها و روش‌های آبیاری کارآمد می‌باشد.",
        questions: [
          { id: 1, text: "راندمان کل آبیاری چیست؟", options: ["نسبت آب به مصرف شده توسط گیاه به آب برداشت شده", "میزان بارندگی سالانه", "میزان تبخیر آب در زمین", "مقدار روان‌آب"], answer: "نسبت آب به مصرف شده توسط گیاه به آب برداشت شده" },
          { id: 2, text: "راندمان آبیاری خوب در چه حدودی است؟", options: ["۱۰ تا ۲۰ درصد", "۲۰ تا ۳۰ درصد", "۴۰ تا ۵۰ درصد", "بالای ۹۰ درصد"], answer: "۴۰ تا ۵۰ درصد" },
          { id: 3, text: "راندمان کاربرد آب در مزرعه چیست؟", options: ["میزان آبی که به مزرعه منتقل می‌شود", "نسبت آب مصرف شده موثر نسبت به انتقال یافته", "مقدار آب ذخیره شده در خاک", "میزان تبخیر سطحی"], answer: "نسبت آب مصرف شده موثر نسبت به انتقال یافته" }
        ],
        flashcards: [
          { front: "راندمان آبیاری", back: "نسبت آب مصرف شده به آب منتقل شده" },
          { front: "راندمان انتقال", back: "درصد آب منتقل شده به مزرعه از منبع" },
          { front: "راندمان کاربرد آب", back: "آب مؤثر مصرفی در مزرعه" },
          { front: "راندمان خوب", back: "۴۰ تا ۵۰ درصد" },
          { front: "هدف مدیریت آب", back: "افزایش راندمان کلی سیستم" },
          { front: "عوامل کاهش راندمان", back: "نشتی، تبخیر، زهکشی نامناسب" }
        ],
        memorization: [
          "راندمان آبیاری کل شامل انتقال و کاربرد آب است.",
          "راندمان پایین موجب هدررفت آب می‌شود.",
          "نگهداری کانال‌ها و انتخاب روش‌های مناسب راندمان را افزایش می‌دهد."
        ]
      },
      {
        title: "مراحل حساس نیاز آبی گیاه به تنش خشکی",
        summary: "گیاهان در تمام مراحل رشد به آب نیاز ندارند به یک میزان. مراحل بحرانی نیاز آبی زمانی است که کمبود آب شدیداً باعث کاهش عملکرد و خسارت غیرقابل جبران می‌شود. معمولاً اواسط دوره رویشی و مرحله گل‌دهی حساس‌ترین مراحل هستند و کم‌آبی در این زمان‌ها زیان‌بار است. مرحله برداشت و اواخر دوره رشد حساسیت کمتری دارند. آبیاری در این مراحل باید به موقع و کامل انجام شود.",
        questions: [
          { id: 1, text: "بحرانی‌ترین مرحله نیاز آبی گیاه کدام است؟", options: ["اواسط دوره رویشی", "مرحله برداشت", "اواخر دوره رشد", "مرحله استراحت"], answer: "اواسط دوره رویشی" },
          { id: 2, text: "کم‌آبی در مراحل بحرانی چه تأثیری دارد؟", options: ["افزایش عملکرد", "کاهش غیرقابل برگشت عملکرد", "بدون تأثیر", "افزایش رطوبت خاک"], answer: "کاهش غیرقابل برگشت عملکرد" },
          { id: 3, text: "آبیاری در مراحل غیر بحرانی چگونه است؟", options: ["باید کامل باشد", "می‌توان کاهش داد", "غیرضروری است", "ممنوع است"], answer: "می‌توان کاهش داد" }
        ],
        flashcards: [
          { front: "مرحله بحرانی", back: "مرحله رویشی و گل‌دهی" },
          { front: "مرحله غیر بحرانی", back: "برداشت و اواخر رشد" },
          { front: "تأثیر تنش خشکی", back: "کاهش شدید و غیرقابل برگشت عملکرد" },
          { front: "مدیریت آبیاری", back: "تمرکز در مراحل حساس" },
          { front: "حساسیت", back: "میزان تحمل گیاه به کمبود آب" },
          { front: "نیاز آبی", back: "متغیر در مراحل رشد" }
        ],
        memorization: [
          "حساس‌ترین مراحل آبیاری اواسط رشد و گل‌دهی است.",
          "کم‌آبی در مراحل بحرانی باعث کاهش شدید عملکرد می‌شود.",
          "آبیاری باید به موقع و در مقدار کافی در این مراحل انجام شود."
        ]
      },
      {
        title: "انواع روش‌های آبیاری سطحی",
        summary: "آبیاری سطحی به روش آزاد جریان آب در سطح زمین و نفوذ آن به خاک گفته می‌شود. اصلی‌ترین روش‌ها شامل آبیاری غرقابی (کرتی، نواری، شیاری)، آبیاری جوی-پشته‌ای و آبیاری نشتی است. آبیاری غرقابی برای اراضی مسطح مناسب است و در این روش رواناب وجود ندارد. آبیاری نواری روی نوارهای شیب‌دار با کنترل مرزها صورت می‌گیرد. آبیاری جوی-پشته‌ای برای محصولات حساس مناسب است که تماس مستقیم آب به ساقه ندارد.",
        questions: [
          { id: 1, text: "روش آبیاری کِرِتی متناسب با چه اراضی است؟", options: ["نواحی شیبدار", "اراضی مسطح", "اراضی با زهکشی نامناسب", "مناطق خشک"], answer: "اراضی مسطح" },
          { id: 2, text: "هدف از آبیاری نواری چیست؟", options: ["افزایش رواناب", "کاهش فرار جانبی آب با مرزبندی", "آبیاری قطره‌ای", "استفاده در خاک رسی"], answer: "کاهش فرار جانبی آب با مرزبندی" },
          { id: 3, text: "آبیاری جوی-پشته‌ای برای چه نوع گیاهانی مناسب است؟", options: ["گیاهانی که حساس به ایستادن آب در ساقه هستند", "گیاهان هیدروفیت", "گیاهان مقاوم به خشکی", "گیاهان با نیاز آبی کم"], answer: "گیاهانی که حساس به ایستادن آب در ساقه هستند" }
        ],
        flashcards: [
          { front: "آبیاری غرقابی", back: "روش غالب در اراضی مسطح" },
          { front: "آبیاری نواری", back: "آب جاری در نوارهای شیب‌دار" },
          { front: "آبیاری جوی-پشته‌ای", back: "آب نفوذی به منطقه رشد گیاه" },
          { front: "رواناب", back: "آب اضافی که از خاک خارج می‌شود" },
          { front: "مرزبندی", back: "جلوگیری از فرار آب جانبی در آبیاری نواری" },
          { front: "کاربرد", back: "محصولات ردیفی، باغات و مراتع" }
        ],
        memorization: [
          "آبیاری سطحی بیشتر بوسیله نیروی جاذبه طبیعی صورت می‌گیرد.",
          "هر روش سطحی معایب و محدوده کاربرد خود را دارد.",
          "توانایی تنظیم آب در آبیاری غرقابی و نواری متفاوت است."
        ]
      },
      {
        title: "محدودیت‌ها و معایب روش‌های آبیاری",
        summary: "هر روش آبیاری محدودیت‌ها و معایبی دارد. آبیاری سطحی نیازمند توپوگرافی مناسب، نیروی کار زیاد و مصرف آب بالا است. آبیاری نواری ممکن است موجب ایجاد سله و مشکلات در خیس شدن گیاه شود. آبیاری بارانی مصرف انرژی بالا دارد و برای برخی خاک‌ها مناسب نیست. آبیاری قطره‌ای راندمان بالا ولی مشکلات گرفتگی قطره‌چکان و متمرکز بودن کشت دارد. انتخاب روش مناسب بسته به شرایط مزرعه و نیاز گیاه است.",
        questions: [
          { id: 1, text: "معایب آبیاری سطحی کدام است؟", options: ["مصرف کم آب", "نیاز به نیروی کار زیاد و توپوگرافی مناسب", "راندمان بالا", "هزینه پایین"], answer: "نیاز به نیروی کار زیاد و توپوگرافی مناسب" },
          { id: 2, text: "محدودیت اصلی آبیاری نواری چیست؟", options: ["نیاز به تجهیزات پیچیده", "ایجاد قشر سخت سطح خاک (سله)", "مصرف انرژی بالا", "عدم یکنواختی آب"], answer: "ایجاد قشر سخت سطح خاک (سله)" },
          { id: 3, text: "یکی از محدودیت‌های آبیاری قطره‌ای چیست؟", options: ["پخش نامناسب آب در مزرعه", "گرفتگی قطره‌چکان‌ها و تجمع نمک", "امکان کشت پراکنده محصولات", "نیاز به نیروی کار زیاد"], answer: "گرفتگی قطره‌چکان‌ها و تجمع نمک" }
        ],
        flashcards: [
          { front: "محدودیت آبیاری سطحی", back: "نیاز به برداشت، نیروی کار و مصرف زیاد آب" },
          { front: "معایب آبیاری نواری", back: "خطر سله و خرابی بذر" },
          { front: "مزایای آبیاری بارانی", back: "پوشش یکنواخت مزرعه" },
          { front: "معایب آبیاری بارانی", back: "هزینه انرژی بالا، نامناسب برای خاک‌های رسی" },
          { front: "مزایای قطره‌ای", back: "مصرف کم آب و راندمان بالا" },
          { front: "محدودیت قطره‌ای", back: "گرفتگی و عدم امکان در کشت متراکم" }
        ],
        memorization: [
          "انتخاب روش آبیاری باید با شرایط اقلیمی و خاکی مطابقت داشته باشد.",
          "هر روش دارای معایب و محدودیت‌هایی است که باید مدیریت شود.",
          "راندمان آبیاری با انتخاب روش مناسب و نگهداری سیستم افزایش می‌یابد."
        ]
      }
    ];

    const SectionCard = ({ section }) => {
      const [showSummary, setShowSummary] = useState(false);
      const [showQuestions, setShowQuestions] = useState(false);
      const [showFlashcards, setShowFlashcards] = useState(false);
      const [showMemorization, setShowMemorization] = useState(false);
      const [currentFlashcard, setCurrentFlashcard] = useState(0);
      const [isFlipped, setIsFlipped] = useState(false);
      const [answers, setAnswers] = useState({});
      const [score, setScore] = useState(null);

      const handleAnswer = (questionId, selectedOption) => {
        setAnswers({ ...answers, [questionId]: selectedOption });
      };

      const checkAnswers = () => {
        let correct = 0;
        section.questions.forEach((q) => {
          if (answers[q.id] === q.answer) correct++;
        });
        setScore(correct);
      };

      const resetQuiz = () => {
        setAnswers({});
        setScore(null);
      };

      const nextFlashcard = () => {
        setCurrentFlashcard((prev) => (prev + 1) % section.flashcards.length);
        setIsFlipped(false);
      };

      const prevFlashcard = () => {
        setCurrentFlashcard((prev) => (prev - 1 + section.flashcards.length) % section.flashcards.length);
        setIsFlipped(false);
      };

      return (
        <div className="bg-white p-6 rounded-lg shadow-md mb-6">
          <h2 className="text-2xl font-bold mb-4">{section.title}</h2>
          <button
            className="w-full text-right bg-blue-500 text-white py-2 rounded-lg mb-4 hover:bg-blue-600 transition"
            onClick={() => setShowSummary(!showSummary)}
          >
            {showSummary ? "بستن خلاصه درس" : "نمایش خلاصه درس"}
          </button>
          {showSummary && <p className="text-gray-700 mb-4">{section.summary}</p>}
          <button
            className="w-full text-right bg-green-500 text-white py-2 rounded-lg mb-4 hover:bg-green-600 transition"
            onClick={() => setShowQuestions(!showQuestions)}
          >
            {showQuestions ? "بستن سوالات تستی" : "نمایش سوالات تستی"}
          </button>
          {showQuestions && (
            <div>
              {section.questions.map((q) => (
                <div key={q.id} className="mb-4">
                  <p className="font-semibold">{q.text}</p>
                  {q.options.map((option, index) => (
                    <label key={index} className="block">
                      <input
                        type="radio"
                        name={`question-${q.id}`}
                        value={option}
                        checked={answers[q.id] === option}
                        onChange={() => handleAnswer(q.id, option)}
                        className="ml-2"
                        disabled={score !== null}
                      />
                      {option}
                    </label>
                  ))}
                </div>
              ))}
              <div className="flex justify-between">
                <button
                  className="bg-blue-500 text-white py-2 px-4 rounded-lg hover:bg-blue-600 transition disabled:bg-gray-400"
                  onClick={checkAnswers}
                  disabled={score !== null || Object.keys(answers).length !== section.questions.length}
                >
                  بررسی پاسخ‌ها
                </button>
                {score !== null && (
                  <button
                    className="bg-yellow-500 text-white py-2 px-4 rounded-lg hover:bg-yellow-600 transition"
                    onClick={resetQuiz}
                  >
                    بازنشانی آزمون
                  </button>
                )}
              </div>
              {score !== null && (
                <div className="mt-2">
                  <p>امتیاز: {score} از {section.questions.length}</p>
                  {section.questions.map((q) => (
                    <p key={q.id} className={answers[q.id] === q.answer ? "text-green-600" : "text-red-600"}>
                      {q.text}: پاسخ شما: {answers[q.id] || "انتخاب نشده"} - پاسخ صحیح: {q.answer}
                    </p>
                  ))}
                </div>
              )}
            </div>
          )}
          <button
            className="w-full text-right bg-purple-500 text-white py-2 rounded-lg mb-4 hover:bg-purple-600 transition"
            onClick={() => setShowFlashcards(!showFlashcards)}
          >
            {showFlashcards ? "بستن فلش کارت‌ها" : "نمایش فلش کارت‌ها"}
          </button>
          {showFlashcards && (
            <div className="text-center">
              <div
                className="bg-gray-200 p-4 rounded-lg cursor-pointer transition-all duration-300"
                onClick={() => setIsFlipped(!isFlipped)}
              >
                <p className="text-lg font-semibold">
                  {isFlipped ? section.flashcards[currentFlashcard].back : section.flashcards[currentFlashcard].front}
                </p>
              </div>
              <div className="flex justify-between mt-4">
                <button
                  className="bg-blue-500 text-white py-2 px-4 rounded-lg hover:bg-blue-600 transition"
                  onClick={prevFlashcard}
                >
                  قبلی
                </button>
                <button
                  className="bg-blue-500 text-white py-2 px-4 rounded-lg hover:bg-blue-600 transition"
                  onClick={nextFlashcard}
                >
                  بعدی
                </button>
              </div>
            </div>
          )}
          <button
            className="w-full text-right bg-yellow-500 text-white py-2 rounded-lg mb-4 hover:bg-yellow-600 transition"
            onClick={() => setShowMemorization(!showMemorization)}
          >
            {showMemorization ? "بستن باکس حفظیات" : "نمایش باکس حفظیات"}
          </button>
          {showMemorization && (
            <ul className="list-disc list-inside">
              {section.memorization.map((item, index) => (
                <li key={index} className="text-gray-700">{item}</li>
              ))}
            </ul>
          )}
        </div>
      );
    };

    const App = () => {
      return (
        <div className="container mx-auto p-6">
          <h1 className="text-3xl font-bold text-center mb-8">درسنامه جامع مدیریت آب و آبیاری</h1>
          {sections.map((section, index) => (
            <SectionCard key={index} section={section} />
          ))}
        </div>
      );
    };

    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<App />);
  </script>
</body>
</html>